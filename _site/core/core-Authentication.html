<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>PartsUnlimited : Authentication</title>
        <meta name="description" content="example e-commerce website">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/PartsUnlimited/css/syntax.css">
        <link rel="stylesheet" href="/PartsUnlimited/css/main.css">
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <img class="logo" src="/PartsUnlimited/assets/logo-ms-dark.png" alt="Microsoft">
<h4><a class="brand" href="/PartsUnlimited/">PartsUnlimited</a>
    <small>example e-commerce website</small>
</h4>

                </div>
            </div>

            <div class="row">
                
                
                    <div id="navigation" class="col-sm-3">
                        <ul class="nav nav-list">
    
        <li><a href="/PartsUnlimited/">Welcome</a></li>
    

    
        
        

        
            
                <li class="nav-header">Basic DevOps Practices</li>
            

            
                <li data-order="3"><a href="/PartsUnlimited/basic/manual-deployment.html">Manual Deployment</a></li>
            
        
            

            
                <li data-order="4"><a href="/PartsUnlimited/basic/ci.html">Continuous Integration</a></li>
            
        
            

            
                <li data-order="5"><a href="/PartsUnlimited/basic/cd.html">Continuous Deployment</a></li>
            
        
            

            
                <li data-order="2"><a href="/PartsUnlimited/basic/QuickStart.html">Quick Start</a></li>
            
        
            

            
                <li data-order="1"><a href="/PartsUnlimited/basic/GettingStartedLinuxOSX.html">Getting Started on Linux and OSX</a></li>
            
        
            

            
                <li data-order="0"><a href="/PartsUnlimited/basic/GettingStarted.html">Getting Started</a></li>
            
        
    
        
        

        
            
                <li class="nav-header">Advanced DevOps Practices</li>
            

            
                <li data-order="0"><a href="/PartsUnlimited/advanced/UserTelemetry.html">User Telemetry</a></li>
            
        
            

            
                <li data-order="2"><a href="/PartsUnlimited/advanced/UsageAnalysis.html">Usage Analysis</a></li>
            
        
            

            
                <li data-order="1"><a href="/PartsUnlimited/advanced/TestingProd.html">Testing in Production</a></li>
            
        
            

            
                <li data-order="6"><a href="/PartsUnlimited/advanced/FeatureFlagWebAdvanced.html">Advanced Feature Flag for Web Applications</a></li>
            
        
            

            
                <li data-order="5"><a href="/PartsUnlimited/advanced/FeatureFlagWeb.html">Feature Flag for Web Applications</a></li>
            
        
            

            
                <li data-order="7"><a href="/PartsUnlimited/advanced/FeatureFlagMobile.html">Feature Flag for a Mobile Solution</a></li>
            
        
            

            
                <li data-order="8"><a href="/PartsUnlimited/advanced/FeatureFlagAPI.html">Feature Flag for an API</a></li>
            
        
            

            
                <li data-order="11"><a href="/PartsUnlimited/advanced/FaultInjectionServiceFabricStarter.html">Fault Injection for Service Fabric Hackathon Starter</a></li>
            
        
            

            
                <li data-order="10"><a href="/PartsUnlimited/advanced/FaultInjectionServiceFabric.html">Fault Injection for Service Fabric</a></li>
            
        
            

            
                <li data-order="9"><a href="/PartsUnlimited/advanced/FaultInjectionAzurePaaS.html">Fault Injection for Azure PaaS</a></li>
            
        
            

            
                <li data-order="3"><a href="/PartsUnlimited/advanced/ErrorReporting.html">Error Reporting</a></li>
            
        
            

            
                <li data-order="4"><a href="/PartsUnlimited/advanced/ABTesting.html">Experimentation and A/B Testing with Optimzely</a></li>
            
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                    </div>

                    <div id="content" class="col-sm-9">
                        <div class="page-header">
    <h2>Authentication
        
    </h2>
</div>

<h2 id="oauth">OAuth</h2>
<p>The PartsUnlimited app supports 5 authentication models: ASP.NET, Azure Active Directory, Google, Facebook, and Twitter. For the non-ASP.NET auth models, you must use create an auth app for the auth model you want to use and provide it with the URL for the site, and then modify the code in your project’s config file. In ASP.NET 5, all auth is configured in a config.json file.The instructions below explain how to set this up for each model:</p>

<h2 id="azure-active-directory">Azure Active Directory</h2>
<ol>
  <li>Sign in to the <a href="https://manage.windowsazure.com">Azure Portal</a></li>
  <li>Create a new Active Directory (or use an existing one if available)</li>
  <li>Select the directory and add a new application</li>
  <li>Enter a name and select “web application”</li>
  <li>Under “App Properties” provide the URL for your site</li>
  <li>Once your app is created, select it and go to the Configure tab</li>
  <li>Under the “Keys” section, select a duration</li>
  <li>Select “Save” in the bottom toolbar to generate the key</li>
  <li>In the PartsUnlimited project, open the config.json file</li>
  <li>Find the “Authentication” section</li>
  <li>Under the “Microsoft” section, add the Client ID as the “Key” and the Client Secret as the “Secret”</li>
  <li>Run your app and test that the Active Directory login works</li>
  <li>For more information, see the <a href="https://msdn.microsoft.com/en-us/library/azure/dn645542.aspx">Active Directory OAuth documentation</a></li>
</ol>

<h2 id="google">Google</h2>
<ol>
  <li>Create or log in to your Google Account from the Google Developers Console</li>
  <li>Create a new project</li>
  <li>After the project is created, expand the “APIs &amp; Auth” menu on the left-hand navigation bar</li>
  <li>Select “Credentials” from the drop down</li>
  <li>Under the OAuth section, select “Create new Client ID”</li>
  <li>In the Create Client ID dialog, select “Web application”</li>
  <li>Enter a Product Name, and under “Homepage URL” enter the URL for your site</li>
  <li>Save your changes to generate the Client ID and Client Secret</li>
  <li>In the PartsUnlimited project, open the config.json file</li>
  <li>Find the “Authentication” section</li>
  <li>Under the “Google” section, add the ClientID as the “Key” and the Client Secret as the “Secret”</li>
  <li>Run your app and test that the Google login works</li>
  <li>For more information, see the Google OAuth documentation: https://developers.google.com/api-client-library/dotnet/get_started#auth</li>
</ol>

<h2 id="facebook">Facebook</h2>
<ol>
  <li>Create a new account or log in to your Facebook developer account</li>
  <li>Add a new Facebook app for Websites</li>
  <li>Once the app is created, enter the URL of your web project as the “Site URL” of the Facebook app</li>
  <li>In the PartsUnlimited project, open the config.json file</li>
  <li>Find the “Authentication” section</li>
  <li>Under the “Facebook” section, add the Facebook app AppID as the “Key” and the AppSecret as the “Secret”</li>
  <li>Run your app and test that the Facebook login button works</li>
  <li>For more information, see the Facebook OAuth documentation: https://developers.facebook.com/docs/facebook-login/overview/v2.2</li>
</ol>

<h2 id="twitter">Twitter</h2>
<ol>
  <li>Create a new account or log in to your Twitter developer account</li>
  <li>Create a new application</li>
  <li>Enter the URL of your website during the creation process</li>
  <li>In the PartsUnlimited project, open the config.json file</li>
  <li>Find the “Authentication” section</li>
  <li>Under the “Twitter” section, enter the consumer key as the “Key” and consumer secret as the “Secret”</li>
  <li>Run your app and test that the Google login works</li>
  <li>For more information, see the Twitter OAuth documentation: https://dev.twitter.com/oauth/overview/introduction</li>
</ol>


                    </div>
                
            </div>

            

            <div class="row">
                <div id="footer" class="col-sm-12">
                    Documentation for <a href="https://github.com/Microsoft/PartsUnlimited">PartsUnlimited</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
        
    </body>
</html>
